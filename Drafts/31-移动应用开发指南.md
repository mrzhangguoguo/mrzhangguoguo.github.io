# ç§»åŠ¨åº”ç”¨å¼€å‘æŒ‡å—ï¼šç”¨Claude Codeæ„å»ºè·¨å¹³å°åº”ç”¨

> ç§»åŠ¨åº”ç”¨å¼€å‘åœ¨AIæ—¶ä»£è¿æ¥äº†å…¨æ–°çš„å˜é©ï¼ŒClaude Codeé€šè¿‡æ™ºèƒ½ä»£ç ç”Ÿæˆã€æ¶æ„è®¾è®¡å»ºè®®å’Œè°ƒè¯•ä¼˜åŒ–ï¼Œå°†ç§»åŠ¨åº”ç”¨å¼€å‘æ•ˆç‡æå‡åˆ°å‰æ‰€æœªæœ‰çš„é«˜åº¦ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•ä½¿ç”¨Claude Codeè¿›è¡ŒReact Nativeã€Flutterå’ŒåŸç”Ÿåº”ç”¨å¼€å‘ã€‚

## ğŸ“‹ æœ¬æ–‡ç›®å½•

- [ç§»åŠ¨å¼€å‘æ–°æ—¶ä»£](#ç§»åŠ¨å¼€å‘æ–°æ—¶ä»£)
- [è·¨å¹³å°æ¡†æ¶é€‰æ‹©ç­–ç•¥](#è·¨å¹³å°æ¡†æ¶é€‰æ‹©ç­–ç•¥)
- [React Nativeå¼€å‘å®æˆ˜](#react-nativeå¼€å‘å®æˆ˜)
- [Flutterå¼€å‘æ·±åº¦åº”ç”¨](#flutterå¼€å‘æ·±åº¦åº”ç”¨)
- [åŸç”Ÿåº”ç”¨å¼€å‘æŒ‡å—](#åŸç”Ÿåº”ç”¨å¼€å‘æŒ‡å—)
- [UI/UXè®¾è®¡é›†æˆ](#uiuxè®¾è®¡é›†æˆ)
- [æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
- [è°ƒè¯•ä¸æµ‹è¯•](#è°ƒè¯•ä¸æµ‹è¯•)
- [å‘å¸ƒä¸éƒ¨ç½²](#å‘å¸ƒä¸éƒ¨ç½²)
- [æœ€ä½³å®è·µæ€»ç»“](#æœ€ä½³å®è·µæ€»ç»“)

## ç§»åŠ¨å¼€å‘æ–°æ—¶ä»£

### Claude Codeåœ¨ç§»åŠ¨å¼€å‘ä¸­çš„é©å‘½æ€§ä½œç”¨

Claude Codeä¸ºç§»åŠ¨åº”ç”¨å¼€å‘å¸¦æ¥äº†é¢ è¦†æ€§çš„æ”¹å˜ï¼Œé€šè¿‡AIè¾…åŠ©èƒ½å¤Ÿå°†åŸæœ¬éœ€è¦1å¤©å®Œæˆçš„å·¥ä½œå‹ç¼©åˆ°2å°æ—¶ï¼Œå¼€å‘æ•ˆç‡æå‡è¾¾300%ã€‚

#### AIè¾…åŠ©ç§»åŠ¨å¼€å‘çš„æ ¸å¿ƒä¼˜åŠ¿

```markdown
## Claude Codeç§»åŠ¨å¼€å‘èƒ½åŠ›çŸ©é˜µ

| å¼€å‘é˜¶æ®µ | ä¼ ç»Ÿå¼€å‘ | Claude Codeè¾…åŠ© | æ•ˆç‡æå‡ |
|----------|----------|-----------------|----------|
| é¡¹ç›®åˆå§‹åŒ– | 30åˆ†é’Ÿ | 5åˆ†é’Ÿ | 500% |
| UIç»„ä»¶å¼€å‘ | 4å°æ—¶ | 1å°æ—¶ | 300% |
| APIé›†æˆ | 2å°æ—¶ | 30åˆ†é’Ÿ | 300% |
| çŠ¶æ€ç®¡ç† | 3å°æ—¶ | 45åˆ†é’Ÿ | 300% |
| è°ƒè¯•ä¼˜åŒ– | 6å°æ—¶ | 1.5å°æ—¶ | 300% |
| æµ‹è¯•ç¼–å†™ | 4å°æ—¶ | 1å°æ—¶ | 300% |
```

### ç§»åŠ¨å¼€å‘é¡¹ç›®ç»“æ„è®¾è®¡

åˆ›å»ºæ ‡å‡†åŒ–çš„CLAUDE.mdæ–‡ä»¶æ¥å®šä¹‰ç§»åŠ¨é¡¹ç›®ä¸Šä¸‹æ–‡ï¼š

```markdown
# ç§»åŠ¨åº”ç”¨å¼€å‘é¡¹ç›®

## é¡¹ç›®ä¿¡æ¯
- é¡¹ç›®ç±»å‹ï¼šè·¨å¹³å°ç§»åŠ¨åº”ç”¨
- ç›®æ ‡å¹³å°ï¼šiOSã€Android
- å¼€å‘æ¡†æ¶ï¼šReact Native / Flutter / åŸç”Ÿ
- ç”¨æˆ·ç¾¤ä½“ï¼šæ¶ˆè´¹è€…ç§»åŠ¨åº”ç”¨

## æŠ€æœ¯æ ˆé€‰æ‹©
### React NativeæŠ€æœ¯æ ˆ
- å¼€å‘è¯­è¨€ï¼šJavaScript/TypeScript
- çŠ¶æ€ç®¡ç†ï¼šRedux Toolkit / Zustand
- å¯¼èˆªï¼šReact Navigation
- UIåº“ï¼šNativeBase / React Native Elements
- ç½‘ç»œï¼šAxios / React Query
- æœ¬åœ°å­˜å‚¨ï¼šAsyncStorage / MMKV

### FlutteræŠ€æœ¯æ ˆ
- å¼€å‘è¯­è¨€ï¼šDart
- çŠ¶æ€ç®¡ç†ï¼šProvider / Riverpod / Bloc
- å¯¼èˆªï¼šGo Router
- UIè®¾è®¡ï¼šMaterial Design / Cupertino
- ç½‘ç»œï¼šDio / HTTP
- æœ¬åœ°å­˜å‚¨ï¼šShared Preferences / Hive

### åŸç”Ÿå¼€å‘
- iOSï¼šSwift + SwiftUI / UIKit
- Androidï¼šKotlin + Jetpack Compose

## é¡¹ç›®æ¶æ„
- MVVM / Clean Architecture
- æ¨¡å—åŒ–è®¾è®¡
- ä¾èµ–æ³¨å…¥
- æµ‹è¯•é©±åŠ¨å¼€å‘

## æ€§èƒ½è¦æ±‚
- å¯åŠ¨æ—¶é—´ï¼š< 3ç§’
- é¡µé¢å“åº”ï¼š< 100ms
- å†…å­˜ä½¿ç”¨ï¼š< 200MB
- åŒ…å¤§å°ï¼š< 50MB

## å…¼å®¹æ€§
- iOSï¼š12.0+
- Androidï¼šAPI 21+(Android 5.0)+
- è®¾å¤‡é€‚é…ï¼šPhoneã€Tablet
```

## è·¨å¹³å°æ¡†æ¶é€‰æ‹©ç­–ç•¥

### æ¡†æ¶å¯¹æ¯”åˆ†æ

Claude CodeåŸºäºé¡¹ç›®éœ€æ±‚æ™ºèƒ½æ¨èæœ€é€‚åˆçš„æ¡†æ¶ï¼š

```javascript
// æ¡†æ¶é€‰æ‹©å†³ç­–ç³»ç»Ÿ
class FrameworkSelector {
  constructor(projectRequirements) {
    this.requirements = projectRequirements;
    this.frameworks = {
      'React Native': {
        pros: ['JavaScriptç”Ÿæ€', 'Webå¼€å‘è€…å‹å¥½', 'AIå·¥å…·æ”¯æŒä¼˜ç§€', 'ç¤¾åŒºåºå¤§'],
        cons: ['æ€§èƒ½ç›¸å¯¹è¾ƒä½', 'å¹³å°ä¸€è‡´æ€§é—®é¢˜', 'åŸç”Ÿæ¨¡å—ä¾èµ–'],
        bestFor: ['å¿«é€ŸåŸå‹', 'Webå›¢é˜Ÿè½¬ç§»åŠ¨', 'å¤æ‚ä¸šåŠ¡é€»è¾‘'],
        aiSupport: 9, // 1-10è¯„åˆ†
        developmentSpeed: 8,
        performance: 7,
        communitySize: 9
      },
      'Flutter': {
        pros: ['é«˜æ€§èƒ½', 'UIä¸€è‡´æ€§', 'è‡ªç»˜å¼•æ“', 'Googleæ”¯æŒ'],
        cons: ['Dartå­¦ä¹ æˆæœ¬', 'åŒ…å¤§å°', 'ç”Ÿæ€ç›¸å¯¹è¾ƒå°'],
        bestFor: ['UIå¯†é›†åº”ç”¨', 'é«˜æ€§èƒ½è¦æ±‚', 'ä¸€è‡´æ€§è¦æ±‚é«˜'],
        aiSupport: 7,
        developmentSpeed: 8,
        performance: 9,
        communitySize: 7
      },
      'Native': {
        pros: ['æœ€ä½³æ€§èƒ½', 'å¹³å°ç‰¹æ€§å®Œæ•´', 'å®˜æ–¹æ”¯æŒ'],
        cons: ['å¼€å‘æˆæœ¬é«˜', 'ç»´æŠ¤ä¸¤å¥—ä»£ç ', 'å­¦ä¹ æˆæœ¬é«˜'],
        bestFor: ['æ€§èƒ½å…³é”®åº”ç”¨', 'å¹³å°ç‰¹å®šåŠŸèƒ½', 'é•¿æœŸé¡¹ç›®'],
        aiSupport: 6,
        developmentSpeed: 5,
        performance: 10,
        communitySize: 8
      }
    };
  }

  selectFramework() {
    const scores = {};
    
    Object.keys(this.frameworks).forEach(framework => {
      const fw = this.frameworks[framework];
      let score = 0;
      
      // æ ¹æ®é¡¹ç›®éœ€æ±‚è®¡ç®—å¾—åˆ†
      if (this.requirements.developmentSpeed > 7) {
        score += fw.developmentSpeed * 0.3;
      }
      
      if (this.requirements.performance > 8) {
        score += fw.performance * 0.4;
      }
      
      if (this.requirements.teamExperience === 'web') {
        score += framework === 'React Native' ? 20 : 0;
      }
      
      if (this.requirements.aiAssistance) {
        score += fw.aiSupport * 0.2;
      }
      
      scores[framework] = score;
    });
    
    const recommended = Object.keys(scores).reduce((a, b) => 
      scores[a] > scores[b] ? a : b
    );
    
    return {
      recommended,
      scores,
      reasoning: this.generateReasoning(recommended)
    };
  }

  generateReasoning(framework) {
    const fw = this.frameworks[framework];
    return {
      framework,
      reasons: fw.bestFor,
      advantages: fw.pros,
      considerations: fw.cons
    };
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const selector = new FrameworkSelector({
  developmentSpeed: 9,
  performance: 7,
  teamExperience: 'web',
  aiAssistance: true,
  budget: 'medium',
  timeline: 'tight'
});

const recommendation = selector.selectFramework();
console.log('æ¨èæ¡†æ¶:', recommendation);
```

### æŠ€æœ¯æ ˆé›†æˆç­–ç•¥

```yaml
# æŠ€æœ¯æ ˆé…ç½®æ–‡ä»¶ - tech-stack.yaml
project:
  name: "mobile-app-template"
  type: "cross-platform"

frameworks:
  react_native:
    version: "0.72.x"
    typescript: true
    dependencies:
      navigation: "@react-navigation/native"
      state_management: "@reduxjs/toolkit"
      ui_library: "react-native-elements"
      networking: "axios"
      storage: "@react-native-async-storage/async-storage"
      testing: "jest"
    
  flutter:
    version: "3.13.x"
    dependencies:
      state_management: "riverpod"
      navigation: "go_router"
      networking: "dio"
      storage: "shared_preferences"
      testing: "flutter_test"

development_tools:
  ide: ["VS Code", "Android Studio", "Xcode"]
  debugging: ["Flipper", "React DevTools", "Flutter Inspector"]
  ci_cd: ["GitHub Actions", "Codemagic", "Bitrise"]
  analytics: ["Firebase Analytics", "Mixpanel"]
  crash_reporting: ["Crashlytics", "Sentry"]
```

## React Nativeå¼€å‘å®æˆ˜

### é¡¹ç›®åˆå§‹åŒ–ä¸æ¶æ„è®¾è®¡

Claude Codeè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„React Nativeé¡¹ç›®ç»“æ„ï¼š

```bash
# Claude Codeç”Ÿæˆçš„é¡¹ç›®åˆå§‹åŒ–å‘½ä»¤
npx react-native init MovieApp --template typescript

# é¡¹ç›®ç»“æ„
MovieApp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ui/             # UIç»„ä»¶
â”‚   â”œâ”€â”€ screens/            # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ navigation/         # å¯¼èˆªé…ç½®
â”‚   â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ assets/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ animations/
â”œâ”€â”€ __tests__/              # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ android/                # AndroidåŸç”Ÿä»£ç 
â”œâ”€â”€ ios/                    # iOSåŸç”Ÿä»£ç 
â””â”€â”€ metro.config.js         # Metroé…ç½®
```

### æ ¸å¿ƒç»„ä»¶å¼€å‘

```typescript
// src/components/common/Button.tsx
import React from 'react';
import {
  TouchableOpacity,
  Text,
  StyleSheet,
  ViewStyle,
  TextStyle,
  ActivityIndicator,
} from 'react-native';

interface ButtonProps {
  title: string;
  onPress: () => void;
  variant?: 'primary' | 'secondary' | 'outline';
  size?: 'small' | 'medium' | 'large';
  disabled?: boolean;
  loading?: boolean;
  style?: ViewStyle;
  textStyle?: TextStyle;
}

export const Button: React.FC<ButtonProps> = ({
  title,
  onPress,
  variant = 'primary',
  size = 'medium',
  disabled = false,
  loading = false,
  style,
  textStyle,
}) => {
  const buttonStyle = [
    styles.button,
    styles[variant],
    styles[size],
    disabled && styles.disabled,
    style,
  ];

  const buttonTextStyle = [
    styles.text,
    styles[`${variant}Text`],
    styles[`${size}Text`],
    textStyle,
  ];

  return (
    <TouchableOpacity
      style={buttonStyle}
      onPress={onPress}
      disabled={disabled || loading}
      activeOpacity={0.7}
    >
      {loading ? (
        <ActivityIndicator
          color={variant === 'primary' ? '#fff' : '#007AFF'}
          size="small"
        />
      ) : (
        <Text style={buttonTextStyle}>{title}</Text>
      )}
    </TouchableOpacity>
  );
};

const styles = StyleSheet.create({
  button: {
    borderRadius: 8,
    alignItems: 'center',
    justifyContent: 'center',
    paddingHorizontal: 16,
    paddingVertical: 12,
  },
  primary: {
    backgroundColor: '#007AFF',
  },
  secondary: {
    backgroundColor: '#F2F2F7',
  },
  outline: {
    backgroundColor: 'transparent',
    borderWidth: 1,
    borderColor: '#007AFF',
  },
  disabled: {
    opacity: 0.6,
  },
  small: {
    paddingHorizontal: 12,
    paddingVertical: 8,
  },
  medium: {
    paddingHorizontal: 16,
    paddingVertical: 12,
  },
  large: {
    paddingHorizontal: 20,
    paddingVertical: 16,
  },
  text: {
    fontWeight: '600',
    textAlign: 'center',
  },
  primaryText: {
    color: '#fff',
  },
  secondaryText: {
    color: '#007AFF',
  },
  outlineText: {
    color: '#007AFF',
  },
  smallText: {
    fontSize: 14,
  },
  mediumText: {
    fontSize: 16,
  },
  largeText: {
    fontSize: 18,
  },
});
```

### çŠ¶æ€ç®¡ç†å®ç°

```typescript
// src/store/store.ts
import { configureStore } from '@reduxjs/toolkit';
import { moviesApi } from './api/moviesApi';
import authSlice from './slices/authSlice';
import appSlice from './slices/appSlice';

export const store = configureStore({
  reducer: {
    auth: authSlice,
    app: appSlice,
    [moviesApi.reducerPath]: moviesApi.reducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware({
      serializableCheck: {
        ignoredActions: ['persist/PERSIST'],
      },
    }).concat(moviesApi.middleware),
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;

// src/store/slices/authSlice.ts
import { createSlice, PayloadAction } from '@reduxjs/toolkit';

interface AuthState {
  user: User | null;
  token: string | null;
  isAuthenticated: boolean;
  isLoading: boolean;
  error: string | null;
}

interface User {
  id: string;
  email: string;
  name: string;
  avatar?: string;
}

const initialState: AuthState = {
  user: null,
  token: null,
  isAuthenticated: false,
  isLoading: false,
  error: null,
};

const authSlice = createSlice({
  name: 'auth',
  initialState,
  reducers: {
    loginStart: (state) => {
      state.isLoading = true;
      state.error = null;
    },
    loginSuccess: (state, action: PayloadAction<{user: User; token: string}>) => {
      state.isLoading = false;
      state.user = action.payload.user;
      state.token = action.payload.token;
      state.isAuthenticated = true;
      state.error = null;
    },
    loginFailure: (state, action: PayloadAction<string>) => {
      state.isLoading = false;
      state.error = action.payload;
      state.isAuthenticated = false;
    },
    logout: (state) => {
      state.user = null;
      state.token = null;
      state.isAuthenticated = false;
      state.error = null;
    },
    clearError: (state) => {
      state.error = null;
    },
  },
});

export const { loginStart, loginSuccess, loginFailure, logout, clearError } = authSlice.actions;
export default authSlice.reducer;

// src/store/api/moviesApi.ts
import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';
import { RootState } from '../store';

interface Movie {
  id: number;
  title: string;
  overview: string;
  poster_path: string;
  backdrop_path: string;
  release_date: string;
  vote_average: number;
  genre_ids: number[];
}

interface MoviesResponse {
  page: number;
  results: Movie[];
  total_pages: number;
  total_results: number;
}

export const moviesApi = createApi({
  reducerPath: 'moviesApi',
  baseQuery: fetchBaseQuery({
    baseUrl: 'https://api.themoviedb.org/3/',
    prepareHeaders: (headers, { getState }) => {
      const token = (getState() as RootState).auth.token;
      if (token) {
        headers.set('authorization', `Bearer ${token}`);
      }
      headers.set('Content-Type', 'application/json');
      return headers;
    },
  }),
  tagTypes: ['Movie'],
  endpoints: (builder) => ({
    getPopularMovies: builder.query<MoviesResponse, number>({
      query: (page = 1) => `movie/popular?page=${page}`,
      providesTags: ['Movie'],
    }),
    getMovieDetails: builder.query<Movie, number>({
      query: (id) => `movie/${id}`,
      providesTags: (_result, _error, id) => [{ type: 'Movie', id }],
    }),
    searchMovies: builder.query<MoviesResponse, {query: string; page?: number}>({
      query: ({ query, page = 1 }) => `search/movie?query=${query}&page=${page}`,
    }),
  }),
});

export const {
  useGetPopularMoviesQuery,
  useGetMovieDetailsQuery,
  useSearchMoviesQuery,
} = moviesApi;
```

### é¡µé¢ç»„ä»¶å¼€å‘

```typescript
// src/screens/HomeScreen.tsx
import React, { useState, useCallback } from 'react';
import {
  View,
  Text,
  FlatList,
  StyleSheet,
  RefreshControl,
  SafeAreaView,
} from 'react-native';
import { useGetPopularMoviesQuery } from '../store/api/moviesApi';
import { MovieCard } from '../components/MovieCard';
import { SearchBar } from '../components/SearchBar';
import { LoadingSpinner } from '../components/common/LoadingSpinner';
import { ErrorView } from '../components/common/ErrorView';

export const HomeScreen: React.FC = () => {
  const [page, setPage] = useState(1);
  const [searchQuery, setSearchQuery] = useState('');
  
  const {
    data: moviesData,
    isLoading,
    error,
    refetch,
  } = useGetPopularMoviesQuery(page);

  const handleLoadMore = useCallback(() => {
    if (moviesData && page < moviesData.total_pages) {
      setPage(prevPage => prevPage + 1);
    }
  }, [moviesData, page]);

  const handleRefresh = useCallback(() => {
    setPage(1);
    refetch();
  }, [refetch]);

  const handleSearch = useCallback((query: string) => {
    setSearchQuery(query);
    // å®ç°æœç´¢é€»è¾‘
  }, []);

  if (isLoading && page === 1) {
    return <LoadingSpinner />;
  }

  if (error) {
    return <ErrorView error={error} onRetry={handleRefresh} />;
  }

  return (
    <SafeAreaView style={styles.container}>
      <View style={styles.header}>
        <Text style={styles.title}>çƒ­é—¨ç”µå½±</Text>
        <SearchBar
          value={searchQuery}
          onChangeText={handleSearch}
          placeholder="æœç´¢ç”µå½±..."
        />
      </View>
      
      <FlatList
        data={moviesData?.results || []}
        keyExtractor={(item) => item.id.toString()}
        renderItem={({ item }) => <MovieCard movie={item} />}
        numColumns={2}
        contentContainerStyle={styles.moviesList}
        refreshControl={
          <RefreshControl refreshing={isLoading} onRefresh={handleRefresh} />
        }
        onEndReached={handleLoadMore}
        onEndReachedThreshold={0.5}
        showsVerticalScrollIndicator={false}
      />
    </SafeAreaView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f8f9fa',
  },
  header: {
    padding: 16,
    backgroundColor: '#fff',
    borderBottomWidth: 1,
    borderBottomColor: '#e9ecef',
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    color: '#212529',
    marginBottom: 16,
  },
  moviesList: {
    padding: 16,
  },
});
```

### å¯¼èˆªé…ç½®

```typescript
// src/navigation/AppNavigator.tsx
import React from 'react';
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import Icon from 'react-native-vector-icons/Ionicons';

import { HomeScreen } from '../screens/HomeScreen';
import { SearchScreen } from '../screens/SearchScreen';
import { ProfileScreen } from '../screens/ProfileScreen';
import { MovieDetailScreen } from '../screens/MovieDetailScreen';
import { LoginScreen } from '../screens/LoginScreen';

import { useAppSelector } from '../store/hooks';

export type RootStackParamList = {
  TabNavigator: undefined;
  MovieDetail: { movieId: number };
  Login: undefined;
};

export type TabParamList = {
  Home: undefined;
  Search: undefined;
  Profile: undefined;
};

const Stack = createNativeStackNavigator<RootStackParamList>();
const Tab = createBottomTabNavigator<TabParamList>();

const TabNavigator = () => {
  return (
    <Tab.Navigator
      screenOptions={({ route }) => ({
        tabBarIcon: ({ focused, color, size }) => {
          let iconName: string;

          if (route.name === 'Home') {
            iconName = focused ? 'home' : 'home-outline';
          } else if (route.name === 'Search') {
            iconName = focused ? 'search' : 'search-outline';
          } else if (route.name === 'Profile') {
            iconName = focused ? 'person' : 'person-outline';
          } else {
            iconName = 'help-outline';
          }

          return <Icon name={iconName} size={size} color={color} />;
        },
        tabBarActiveTintColor: '#007AFF',
        tabBarInactiveTintColor: 'gray',
        headerShown: false,
      })}
    >
      <Tab.Screen 
        name="Home" 
        component={HomeScreen} 
        options={{ tabBarLabel: 'é¦–é¡µ' }}
      />
      <Tab.Screen 
        name="Search" 
        component={SearchScreen} 
        options={{ tabBarLabel: 'æœç´¢' }}
      />
      <Tab.Screen 
        name="Profile" 
        component={ProfileScreen} 
        options={{ tabBarLabel: 'æˆ‘çš„' }}
      />
    </Tab.Navigator>
  );
};

export const AppNavigator: React.FC = () => {
  const isAuthenticated = useAppSelector(state => state.auth.isAuthenticated);

  return (
    <NavigationContainer>
      <Stack.Navigator
        screenOptions={{
          headerShown: false,
        }}
      >
        {isAuthenticated ? (
          <>
            <Stack.Screen name="TabNavigator" component={TabNavigator} />
            <Stack.Screen 
              name="MovieDetail" 
              component={MovieDetailScreen}
              options={{
                headerShown: true,
                title: 'ç”µå½±è¯¦æƒ…',
                headerBackTitleVisible: false,
              }}
            />
          </>
        ) : (
          <Stack.Screen name="Login" component={LoginScreen} />
        )}
      </Stack.Navigator>
    </NavigationContainer>
  );
};
```

## Flutterå¼€å‘æ·±åº¦åº”ç”¨

### é¡¹ç›®æ¶æ„ä¸çŠ¶æ€ç®¡ç†

```dart
// lib/main.dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:go_router/go_router.dart';
import 'core/router/app_router.dart';
import 'core/theme/app_theme.dart';

void main() {
  runApp(const ProviderScope(child: MovieApp()));
}

class MovieApp extends ConsumerWidget {
  const MovieApp({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final router = ref.watch(routerProvider);
    
    return MaterialApp.router(
      title: 'Movie App',
      theme: AppTheme.lightTheme,
      darkTheme: AppTheme.darkTheme,
      routerConfig: router,
    );
  }
}

// lib/core/providers/movie_providers.dart
import 'package:flutter_riverpod/flutter_riverpod.dart';
import '../models/movie.dart';
import '../repositories/movie_repository.dart';

final movieRepositoryProvider = Provider<MovieRepository>((ref) {
  return MovieRepository();
});

final popularMoviesProvider = FutureProvider<List<Movie>>((ref) async {
  final repository = ref.watch(movieRepositoryProvider);
  return repository.getPopularMovies();
});

final movieDetailProvider = FutureProvider.family<Movie, int>((ref, movieId) async {
  final repository = ref.watch(movieRepositoryProvider);
  return repository.getMovieDetails(movieId);
});

// æœç´¢çŠ¶æ€ç®¡ç†
final searchQueryProvider = StateProvider<String>((ref) => '');

final searchResultsProvider = FutureProvider<List<Movie>>((ref) async {
  final query = ref.watch(searchQueryProvider);
  if (query.isEmpty) return [];
  
  final repository = ref.watch(movieRepositoryProvider);
  return repository.searchMovies(query);
});

// lib/core/models/movie.dart
import 'package:freezed_annotation/freezed_annotation.dart';

part 'movie.freezed.dart';
part 'movie.g.dart';

@freezed
class Movie with _$Movie {
  const factory Movie({
    required int id,
    required String title,
    required String overview,
    @JsonKey(name: 'poster_path') String? posterPath,
    @JsonKey(name: 'backdrop_path') String? backdropPath,
    @JsonKey(name: 'release_date') required String releaseDate,
    @JsonKey(name: 'vote_average') required double voteAverage,
    @JsonKey(name: 'genre_ids') required List<int> genreIds,
  }) = _Movie;

  factory Movie.fromJson(Map<String, dynamic> json) => _$MovieFromJson(json);
}

@freezed
class MoviesResponse with _$MoviesResponse {
  const factory MoviesResponse({
    required int page,
    required List<Movie> results,
    @JsonKey(name: 'total_pages') required int totalPages,
    @JsonKey(name: 'total_results') required int totalResults,
  }) = _MoviesResponse;

  factory MoviesResponse.fromJson(Map<String, dynamic> json) => 
      _$MoviesResponseFromJson(json);
}
```

### UIç»„ä»¶å¼€å‘

```dart
// lib/features/home/widgets/movie_card.dart
import 'package:flutter/material.dart';
import 'package:cached_network_image/cached_network_image.dart';
import '../../../core/models/movie.dart';
import '../../../core/constants/app_constants.dart';

class MovieCard extends StatelessWidget {
  final Movie movie;
  final VoidCallback? onTap;

  const MovieCard({
    Key? key,
    required this.movie,
    this.onTap,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Card(
      elevation: 4,
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(12),
      ),
      child: InkWell(
        onTap: onTap,
        borderRadius: BorderRadius.circular(12),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Expanded(
              flex: 3,
              child: ClipRRect(
                borderRadius: const BorderRadius.vertical(
                  top: Radius.circular(12),
                ),
                child: CachedNetworkImage(
                  imageUrl: movie.posterPath != null
                      ? '${AppConstants.imageBaseUrl}${movie.posterPath}'
                      : AppConstants.placeholderImage,
                  width: double.infinity,
                  fit: BoxFit.cover,
                  placeholder: (context, url) => Container(
                    color: Colors.grey[300],
                    child: const Center(
                      child: CircularProgressIndicator(),
                    ),
                  ),
                  errorWidget: (context, url, error) => Container(
                    color: Colors.grey[300],
                    child: const Icon(
                      Icons.error,
                      color: Colors.red,
                    ),
                  ),
                ),
              ),
            ),
            Expanded(
              flex: 1,
              child: Padding(
                padding: const EdgeInsets.all(8.0),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      movie.title,
                      style: Theme.of(context).textTheme.titleMedium?.copyWith(
                        fontWeight: FontWeight.bold,
                      ),
                      maxLines: 1,
                      overflow: TextOverflow.ellipsis,
                    ),
                    const SizedBox(height: 4),
                    Row(
                      children: [
                        Icon(
                          Icons.star,
                          size: 16,
                          color: Colors.amber,
                        ),
                        const SizedBox(width: 4),
                        Text(
                          movie.voteAverage.toStringAsFixed(1),
                          style: Theme.of(context).textTheme.bodySmall,
                        ),
                        const Spacer(),
                        Text(
                          movie.releaseDate.substring(0, 4), // åªæ˜¾ç¤ºå¹´ä»½
                          style: Theme.of(context).textTheme.bodySmall?.copyWith(
                            color: Colors.grey[600],
                          ),
                        ),
                      ],
                    ),
                  ],
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}

// lib/features/home/screens/home_screen.dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:go_router/go_router.dart';
import '../../../core/providers/movie_providers.dart';
import '../widgets/movie_card.dart';
import '../widgets/search_bar.dart';

class HomeScreen extends ConsumerStatefulWidget {
  const HomeScreen({Key? key}) : super(key: key);

  @override
  ConsumerState<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends ConsumerState<HomeScreen> {
  final ScrollController _scrollController = ScrollController();
  final TextEditingController _searchController = TextEditingController();

  @override
  void dispose() {
    _scrollController.dispose();
    _searchController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    final popularMoviesAsync = ref.watch(popularMoviesProvider);

    return Scaffold(
      appBar: AppBar(
        title: const Text('çƒ­é—¨ç”µå½±'),
        elevation: 0,
        backgroundColor: Theme.of(context).scaffoldBackgroundColor,
        foregroundColor: Theme.of(context).textTheme.titleLarge?.color,
      ),
      body: Column(
        children: [
          Padding(
            padding: const EdgeInsets.all(16.0),
            child: SearchTextField(
              controller: _searchController,
              onChanged: (value) {
                ref.read(searchQueryProvider.notifier).state = value;
              },
              onSubmitted: (value) {
                if (value.isNotEmpty) {
                  context.go('/search');
                }
              },
            ),
          ),
          Expanded(
            child: popularMoviesAsync.when(
              data: (movies) => GridView.builder(
                controller: _scrollController,
                padding: const EdgeInsets.all(16),
                gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(
                  crossAxisCount: 2,
                  childAspectRatio: 0.7,
                  crossAxisSpacing: 16,
                  mainAxisSpacing: 16,
                ),
                itemCount: movies.length,
                itemBuilder: (context, index) {
                  final movie = movies[index];
                  return MovieCard(
                    movie: movie,
                    onTap: () => context.go('/movie/${movie.id}'),
                  );
                },
              ),
              loading: () => const Center(child: CircularProgressIndicator()),
              error: (error, stack) => Center(
                child: Column(
                  mainAxisAlignment: MainAxisAlignment.center,
                  children: [
                    Icon(
                      Icons.error_outline,
                      size: 64,
                      color: Theme.of(context).colorScheme.error,
                    ),
                    const SizedBox(height: 16),
                    Text(
                      'åŠ è½½å¤±è´¥',
                      style: Theme.of(context).textTheme.headlineSmall,
                    ),
                    const SizedBox(height: 8),
                    Text(
                      error.toString(),
                      style: Theme.of(context).textTheme.bodyMedium,
                      textAlign: TextAlign.center,
                    ),
                    const SizedBox(height: 16),
                    ElevatedButton(
                      onPressed: () => ref.refresh(popularMoviesProvider),
                      child: const Text('é‡è¯•'),
                    ),
                  ],
                ),
              ),
            ),
          ),
        ],
      ),
    );
  }
}

// lib/features/home/widgets/search_bar.dart
import 'package:flutter/material.dart';

class SearchTextField extends StatelessWidget {
  final TextEditingController controller;
  final ValueChanged<String>? onChanged;
  final ValueChanged<String>? onSubmitted;

  const SearchTextField({
    Key? key,
    required this.controller,
    this.onChanged,
    this.onSubmitted,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return TextField(
      controller: controller,
      onChanged: onChanged,
      onSubmitted: onSubmitted,
      decoration: InputDecoration(
        hintText: 'æœç´¢ç”µå½±...',
        prefixIcon: const Icon(Icons.search),
        suffixIcon: controller.text.isNotEmpty
            ? IconButton(
                icon: const Icon(Icons.clear),
                onPressed: () {
                  controller.clear();
                  onChanged?.call('');
                },
              )
            : null,
        border: OutlineInputBorder(
          borderRadius: BorderRadius.circular(12),
          borderSide: BorderSide.none,
        ),
        filled: true,
        fillColor: Theme.of(context).colorScheme.surface,
        contentPadding: const EdgeInsets.symmetric(
          horizontal: 16,
          vertical: 12,
        ),
      ),
    );
  }
}
```

### è·¯ç”±é…ç½®

```dart
// lib/core/router/app_router.dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:go_router/go_router.dart';
import '../../features/home/screens/home_screen.dart';
import '../../features/search/screens/search_screen.dart';
import '../../features/movie_detail/screens/movie_detail_screen.dart';
import '../../features/profile/screens/profile_screen.dart';
import '../../shared/widgets/bottom_navigation_scaffold.dart';

final routerProvider = Provider<GoRouter>((ref) {
  return GoRouter(
    initialLocation: '/home',
    routes: [
      ShellRoute(
        builder: (context, state, child) => BottomNavigationScaffold(child: child),
        routes: [
          GoRoute(
            path: '/home',
            pageBuilder: (context, state) => const NoTransitionPage(
              child: HomeScreen(),
            ),
          ),
          GoRoute(
            path: '/search',
            pageBuilder: (context, state) => const NoTransitionPage(
              child: SearchScreen(),
            ),
          ),
          GoRoute(
            path: '/profile',
            pageBuilder: (context, state) => const NoTransitionPage(
              child: ProfileScreen(),
            ),
          ),
        ],
      ),
      GoRoute(
        path: '/movie/:id',
        builder: (context, state) {
          final movieId = int.parse(state.pathParameters['id']!);
          return MovieDetailScreen(movieId: movieId);
        },
      ),
    ],
  );
});

// lib/shared/widgets/bottom_navigation_scaffold.dart
import 'package:flutter/material.dart';
import 'package:go_router/go_router.dart';

class BottomNavigationScaffold extends StatelessWidget {
  final Widget child;

  const BottomNavigationScaffold({
    Key? key,
    required this.child,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: child,
      bottomNavigationBar: BottomNavigationBar(
        currentIndex: _getCurrentIndex(context),
        onTap: (index) => _onTap(index, context),
        type: BottomNavigationBarType.fixed,
        items: const [
          BottomNavigationBarItem(
            icon: Icon(Icons.home_outlined),
            activeIcon: Icon(Icons.home),
            label: 'é¦–é¡µ',
          ),
          BottomNavigationBarItem(
            icon: Icon(Icons.search_outlined),
            activeIcon: Icon(Icons.search),
            label: 'æœç´¢',
          ),
          BottomNavigationBarItem(
            icon: Icon(Icons.person_outline),
            activeIcon: Icon(Icons.person),
            label: 'æˆ‘çš„',
          ),
        ],
      ),
    );
  }

  int _getCurrentIndex(BuildContext context) {
    final String location = GoRouterState.of(context).location;
    if (location.startsWith('/home')) return 0;
    if (location.startsWith('/search')) return 1;
    if (location.startsWith('/profile')) return 2;
    return 0;
  }

  void _onTap(int index, BuildContext context) {
    switch (index) {
      case 0:
        context.go('/home');
        break;
      case 1:
        context.go('/search');
        break;
      case 2:
        context.go('/profile');
        break;
    }
  }
}
```

## åŸç”Ÿåº”ç”¨å¼€å‘æŒ‡å—

### iOS Swift + SwiftUI

```swift
// ContentView.swift
import SwiftUI
import Combine

struct ContentView: View {
    @StateObject private var movieStore = MovieStore()
    @State private var searchText = ""
    
    var body: some View {
        NavigationView {
            VStack {
                SearchBar(text: $searchText)
                    .padding(.horizontal)
                
                if movieStore.isLoading {
                    ProgressView("åŠ è½½ä¸­...")
                        .frame(maxWidth: .infinity, maxHeight: .infinity)
                } else {
                    MovieGrid(movies: movieStore.movies)
                }
            }
            .navigationTitle("çƒ­é—¨ç”µå½±")
            .onAppear {
                movieStore.loadPopularMovies()
            }
            .onChange(of: searchText) { newValue in
                movieStore.searchMovies(query: newValue)
            }
        }
    }
}

// MovieStore.swift
import Foundation
import Combine

class MovieStore: ObservableObject {
    @Published var movies: [Movie] = []
    @Published var isLoading = false
    @Published var errorMessage: String?
    
    private var cancellables = Set<AnyCancellable>()
    private let apiService = MovieAPIService()
    
    func loadPopularMovies() {
        isLoading = true
        
        apiService.fetchPopularMovies()
            .receive(on: DispatchQueue.main)
            .sink(
                receiveCompletion: { completion in
                    self.isLoading = false
                    if case .failure(let error) = completion {
                        self.errorMessage = error.localizedDescription
                    }
                },
                receiveValue: { response in
                    self.movies = response.results
                    self.errorMessage = nil
                }
            )
            .store(in: &cancellables)
    }
    
    func searchMovies(query: String) {
        guard !query.isEmpty else {
            loadPopularMovies()
            return
        }
        
        isLoading = true
        
        apiService.searchMovies(query: query)
            .receive(on: DispatchQueue.main)
            .sink(
                receiveCompletion: { completion in
                    self.isLoading = false
                    if case .failure(let error) = completion {
                        self.errorMessage = error.localizedDescription
                    }
                },
                receiveValue: { response in
                    self.movies = response.results
                    self.errorMessage = nil
                }
            )
            .store(in: &cancellables)
    }
}

// Movie.swift
import Foundation

struct Movie: Codable, Identifiable {
    let id: Int
    let title: String
    let overview: String
    let posterPath: String?
    let backdropPath: String?
    let releaseDate: String
    let voteAverage: Double
    let genreIds: [Int]
    
    enum CodingKeys: String, CodingKey {
        case id, title, overview
        case posterPath = "poster_path"
        case backdropPath = "backdrop_path"
        case releaseDate = "release_date"
        case voteAverage = "vote_average"
        case genreIds = "genre_ids"
    }
    
    var posterURL: URL? {
        guard let posterPath = posterPath else { return nil }
        return URL(string: "https://image.tmdb.org/t/p/w500\(posterPath)")
    }
}

struct MoviesResponse: Codable {
    let page: Int
    let results: [Movie]
    let totalPages: Int
    let totalResults: Int
    
    enum CodingKeys: String, CodingKey {
        case page, results
        case totalPages = "total_pages"
        case totalResults = "total_results"
    }
}

// MovieAPIService.swift
import Foundation
import Combine

class MovieAPIService {
    private let baseURL = "https://api.themoviedb.org/3"
    private let apiKey = "YOUR_API_KEY"
    
    func fetchPopularMovies() -> AnyPublisher<MoviesResponse, Error> {
        guard let url = URL(string: "\(baseURL)/movie/popular?api_key=\(apiKey)") else {
            return Fail(error: URLError(.badURL))
                .eraseToAnyPublisher()
        }
        
        return URLSession.shared.dataTaskPublisher(for: url)
            .map(\.data)
            .decode(type: MoviesResponse.self, decoder: JSONDecoder())
            .eraseToAnyPublisher()
    }
    
    func searchMovies(query: String) -> AnyPublisher<MoviesResponse, Error> {
        guard let encodedQuery = query.addingPercentEncoding(withAllowedCharacters: .urlQueryAllowed),
              let url = URL(string: "\(baseURL)/search/movie?api_key=\(apiKey)&query=\(encodedQuery)") else {
            return Fail(error: URLError(.badURL))
                .eraseToAnyPublisher()
        }
        
        return URLSession.shared.dataTaskPublisher(for: url)
            .map(\.data)
            .decode(type: MoviesResponse.self, decoder: JSONDecoder())
            .eraseToAnyPublisher()
    }
}

// MovieGrid.swift
import SwiftUI

struct MovieGrid: View {
    let movies: [Movie]
    
    let columns = [
        GridItem(.flexible()),
        GridItem(.flexible())
    ]
    
    var body: some View {
        ScrollView {
            LazyVGrid(columns: columns, spacing: 16) {
                ForEach(movies) { movie in
                    NavigationLink(destination: MovieDetailView(movie: movie)) {
                        MovieCard(movie: movie)
                    }
                    .buttonStyle(PlainButtonStyle())
                }
            }
            .padding(.horizontal)
        }
    }
}

struct MovieCard: View {
    let movie: Movie
    
    var body: some View {
        VStack(alignment: .leading, spacing: 8) {
            AsyncImage(url: movie.posterURL) { image in
                image
                    .resizable()
                    .aspectRatio(contentMode: .fill)
            } placeholder: {
                Rectangle()
                    .fill(Color.gray.opacity(0.3))
                    .overlay(
                        ProgressView()
                    )
            }
            .frame(height: 200)
            .clipped()
            .cornerRadius(12)
            
            VStack(alignment: .leading, spacing: 4) {
                Text(movie.title)
                    .font(.headline)
                    .lineLimit(1)
                
                HStack {
                    Image(systemName: "star.fill")
                        .foregroundColor(.yellow)
                        .font(.caption)
                    
                    Text(String(format: "%.1f", movie.voteAverage))
                        .font(.caption)
                        .foregroundColor(.secondary)
                    
                    Spacer()
                    
                    Text(String(movie.releaseDate.prefix(4)))
                        .font(.caption)
                        .foregroundColor(.secondary)
                }
            }
        }
        .background(Color(UIColor.systemBackground))
        .cornerRadius(12)
        .shadow(radius: 2)
    }
}
```

### Android Kotlin + Jetpack Compose

```kotlin
// MainActivity.kt
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Surface
import androidx.compose.ui.Modifier
import androidx.hilt.navigation.compose.hiltViewModel
import androidx.navigation.compose.NavHost
import androidx.navigation.compose.composable
import androidx.navigation.compose.rememberNavController
import com.example.movieapp.ui.theme.MovieAppTheme
import dagger.hilt.android.AndroidEntryPoint

@AndroidEntryPoint
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            MovieAppTheme {
                Surface(
                    modifier = Modifier.fillMaxSize(),
                    color = MaterialTheme.colorScheme.background
                ) {
                    MovieApp()
                }
            }
        }
    }
}

@Composable
fun MovieApp() {
    val navController = rememberNavController()
    
    NavHost(
        navController = navController,
        startDestination = "home"
    ) {
        composable("home") {
            HomeScreen(
                onMovieClick = { movieId ->
                    navController.navigate("movie/$movieId")
                }
            )
        }
        composable("movie/{movieId}") { backStackEntry ->
            val movieId = backStackEntry.arguments?.getString("movieId")?.toIntOrNull() ?: 0
            MovieDetailScreen(
                movieId = movieId,
                onBackClick = { navController.popBackStack() }
            )
        }
    }
}

// HomeScreen.kt
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.lazy.grid.*
import androidx.compose.material3.*
import androidx.compose.runtime.*
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import androidx.hilt.navigation.compose.hiltViewModel

@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun HomeScreen(
    onMovieClick: (Int) -> Unit,
    viewModel: HomeViewModel = hiltViewModel()
) {
    val uiState by viewModel.uiState.collectAsState()
    var searchQuery by remember { mutableStateOf("") }
    
    Column(
        modifier = Modifier.fillMaxSize()
    ) {
        TopAppBar(
            title = { Text("çƒ­é—¨ç”µå½±") }
        )
        
        SearchBar(
            query = searchQuery,
            onQueryChange = { 
                searchQuery = it
                viewModel.searchMovies(it)
            },
            modifier = Modifier
                .fillMaxWidth()
                .padding(16.dp)
        )
        
        when (uiState) {
            is HomeUiState.Loading -> {
                Box(
                    modifier = Modifier.fillMaxSize(),
                    contentAlignment = Alignment.Center
                ) {
                    CircularProgressIndicator()
                }
            }
            is HomeUiState.Success -> {
                LazyVerticalGrid(
                    columns = GridCells.Fixed(2),
                    contentPadding = PaddingValues(16.dp),
                    horizontalArrangement = Arrangement.spacedBy(16.dp),
                    verticalArrangement = Arrangement.spacedBy(16.dp)
                ) {
                    items(uiState.movies) { movie ->
                        MovieCard(
                            movie = movie,
                            onClick = { onMovieClick(movie.id) }
                        )
                    }
                }
            }
            is HomeUiState.Error -> {
                Box(
                    modifier = Modifier.fillMaxSize(),
                    contentAlignment = Alignment.Center
                ) {
                    Column(
                        horizontalAlignment = Alignment.CenterHorizontally
                    ) {
                        Text(
                            text = "åŠ è½½å¤±è´¥",
                            style = MaterialTheme.typography.headlineSmall
                        )
                        Spacer(modifier = Modifier.height(8.dp))
                        Text(
                            text = uiState.message,
                            style = MaterialTheme.typography.bodyMedium
                        )
                        Spacer(modifier = Modifier.height(16.dp))
                        Button(
                            onClick = { viewModel.loadPopularMovies() }
                        ) {
                            Text("é‡è¯•")
                        }
                    }
                }
            }
        }
    }
}

// HomeViewModel.kt
import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import dagger.hilt.android.lifecycle.HiltViewModel
import kotlinx.coroutines.flow.*
import kotlinx.coroutines.launch
import javax.inject.Inject

@HiltViewModel
class HomeViewModel @Inject constructor(
    private val movieRepository: MovieRepository
) : ViewModel() {
    
    private val _uiState = MutableStateFlow<HomeUiState>(HomeUiState.Loading)
    val uiState: StateFlow<HomeUiState> = _uiState.asStateFlow()
    
    init {
        loadPopularMovies()
    }
    
    fun loadPopularMovies() {
        viewModelScope.launch {
            _uiState.value = HomeUiState.Loading
            
            movieRepository.getPopularMovies()
                .catch { exception ->
                    _uiState.value = HomeUiState.Error(exception.message ?: "Unknown error")
                }
                .collect { movies ->
                    _uiState.value = HomeUiState.Success(movies)
                }
        }
    }
    
    fun searchMovies(query: String) {
        if (query.isEmpty()) {
            loadPopularMovies()
            return
        }
        
        viewModelScope.launch {
            _uiState.value = HomeUiState.Loading
            
            movieRepository.searchMovies(query)
                .catch { exception ->
                    _uiState.value = HomeUiState.Error(exception.message ?: "Unknown error")
                }
                .collect { movies ->
                    _uiState.value = HomeUiState.Success(movies)
                }
        }
    }
}

sealed class HomeUiState {
    object Loading : HomeUiState()
    data class Success(val movies: List<Movie>) : HomeUiState()
    data class Error(val message: String) : HomeUiState()
}

// MovieCard.kt
import androidx.compose.foundation.clickable
import androidx.compose.foundation.layout.*
import androidx.compose.foundation.shape.RoundedCornerShape
import androidx.compose.material.icons.Icons
import androidx.compose.material.icons.filled.Star
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.clip
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.layout.ContentScale
import androidx.compose.ui.text.style.TextOverflow
import androidx.compose.ui.unit.dp
import coil.compose.AsyncImage

@Composable
fun MovieCard(
    movie: Movie,
    onClick: () -> Unit,
    modifier: Modifier = Modifier
) {
    Card(
        modifier = modifier
            .clickable { onClick() }
            .fillMaxWidth(),
        elevation = CardDefaults.cardElevation(defaultElevation = 4.dp),
        shape = RoundedCornerShape(12.dp)
    ) {
        Column {
            AsyncImage(
                model = movie.posterUrl,
                contentDescription = movie.title,
                modifier = Modifier
                    .fillMaxWidth()
                    .height(200.dp)
                    .clip(RoundedCornerShape(topStart = 12.dp, topEnd = 12.dp)),
                contentScale = ContentScale.Crop
            )
            
            Column(
                modifier = Modifier.padding(8.dp)
            ) {
                Text(
                    text = movie.title,
                    style = MaterialTheme.typography.titleMedium,
                    maxLines = 1,
                    overflow = TextOverflow.Ellipsis
                )
                
                Spacer(modifier = Modifier.height(4.dp))
                
                Row(
                    verticalAlignment = Alignment.CenterVertically
                ) {
                    Icon(
                        imageVector = Icons.Default.Star,
                        contentDescription = null,
                        tint = Color(0xFFFFD700),
                        modifier = Modifier.size(16.dp)
                    )
                    
                    Spacer(modifier = Modifier.width(4.dp))
                    
                    Text(
                        text = String.format("%.1f", movie.voteAverage),
                        style = MaterialTheme.typography.bodySmall
                    )
                    
                    Spacer(modifier = Modifier.weight(1f))
                    
                    Text(
                        text = movie.releaseDate.take(4),
                        style = MaterialTheme.typography.bodySmall,
                        color = MaterialTheme.colorScheme.onSurfaceVariant
                    )
                }
            }
        }
    }
}
```

## UI/UXè®¾è®¡é›†æˆ

### è®¾è®¡ç³»ç»Ÿå®ç°

```typescript
// src/design-system/tokens.ts
export const DesignTokens = {
  colors: {
    primary: {
      50: '#e3f2fd',
      100: '#bbdefb',
      200: '#90caf9',
      300: '#64b5f6',
      400: '#42a5f5',
      500: '#2196f3',
      600: '#1e88e5',
      700: '#1976d2',
      800: '#1565c0',
      900: '#0d47a1',
    },
    gray: {
      50: '#fafafa',
      100: '#f5f5f5',
      200: '#eeeeee',
      300: '#e0e0e0',
      400: '#bdbdbd',
      500: '#9e9e9e',
      600: '#757575',
      700: '#616161',
      800: '#424242',
      900: '#212121',
    },
  },
  typography: {
    fontFamily: {
      sans: ['Inter', 'system-ui', 'sans-serif'],
      mono: ['Fira Code', 'monospace'],
    },
    fontSize: {
      xs: '12px',
      sm: '14px',
      base: '16px',
      lg: '18px',
      xl: '20px',
      '2xl': '24px',
      '3xl': '30px',
      '4xl': '36px',
    },
    fontWeight: {
      light: '300',
      normal: '400',
      medium: '500',
      semibold: '600',
      bold: '700',
    },
  },
  spacing: {
    xs: '4px',
    sm: '8px',
    md: '16px',
    lg: '24px',
    xl: '32px',
    '2xl': '48px',
    '3xl': '64px',
  },
  borderRadius: {
    none: '0',
    sm: '4px',
    md: '8px',
    lg: '12px',
    xl: '16px',
    '2xl': '24px',
    full: '9999px',
  },
  shadows: {
    sm: '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
    md: '0 4px 6px -1px rgba(0, 0, 0, 0.1)',
    lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',
    xl: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
  },
};

// src/design-system/components/Button/Button.stories.tsx
import type { Meta, StoryObj } from '@storybook/react';
import { Button } from './Button';

const meta: Meta<typeof Button> = {
  title: 'Components/Button',
  component: Button,
  parameters: {
    layout: 'centered',
  },
  tags: ['autodocs'],
  argTypes: {
    variant: {
      control: 'select',
      options: ['primary', 'secondary', 'outline', 'ghost'],
    },
    size: {
      control: 'select',
      options: ['sm', 'md', 'lg'],
    },
  },
};

export default meta;
type Story = StoryObj<typeof meta>;

export const Primary: Story = {
  args: {
    variant: 'primary',
    children: 'Primary Button',
  },
};

export const Secondary: Story = {
  args: {
    variant: 'secondary',
    children: 'Secondary Button',
  },
};

export const Outline: Story = {
  args: {
    variant: 'outline',
    children: 'Outline Button',
  },
};

export const Loading: Story = {
  args: {
    variant: 'primary',
    children: 'Loading Button',
    loading: true,
  },
};

export const Disabled: Story = {
  args: {
    variant: 'primary',
    children: 'Disabled Button',
    disabled: true,
  },
};
```

### å“åº”å¼è®¾è®¡å®ç°

```typescript
// src/hooks/useResponsive.ts
import { useState, useEffect } from 'react';
import { Dimensions, ScaledSize } from 'react-native';

interface ScreenData {
  width: number;
  height: number;
  scale: number;
  fontScale: number;
}

interface ResponsiveBreakpoints {
  isSmall: boolean;
  isMedium: boolean;
  isLarge: boolean;
  isTablet: boolean;
  orientation: 'portrait' | 'landscape';
}

export const useResponsive = (): ResponsiveBreakpoints => {
  const [screenData, setScreenData] = useState<ScreenData>(Dimensions.get('window'));

  useEffect(() => {
    const onChange = (result: { window: ScaledSize; screen: ScaledSize }) => {
      setScreenData(result.window);
    };

    const subscription = Dimensions.addEventListener('change', onChange);
    return () => subscription?.remove();
  }, []);

  const { width, height } = screenData;
  const isLandscape = width > height;

  return {
    isSmall: width < 768,
    isMedium: width >= 768 && width < 1024,
    isLarge: width >= 1024,
    isTablet: width >= 768,
    orientation: isLandscape ? 'landscape' : 'portrait',
  };
};

// src/components/ResponsiveLayout.tsx
import React from 'react';
import { View, StyleSheet } from 'react-native';
import { useResponsive } from '../hooks/useResponsive';

interface ResponsiveLayoutProps {
  children: React.ReactNode;
  sidebar?: React.ReactNode;
}

export const ResponsiveLayout: React.FC<ResponsiveLayoutProps> = ({
  children,
  sidebar,
}) => {
  const { isTablet, orientation } = useResponsive();

  if (isTablet && orientation === 'landscape' && sidebar) {
    return (
      <View style={styles.tabletLayout}>
        <View style={styles.sidebar}>
          {sidebar}
        </View>
        <View style={styles.mainContent}>
          {children}
        </View>
      </View>
    );
  }

  return <View style={styles.mobileLayout}>{children}</View>;
};

const styles = StyleSheet.create({
  tabletLayout: {
    flex: 1,
    flexDirection: 'row',
  },
  sidebar: {
    width: 300,
    backgroundColor: '#f8f9fa',
    borderRightWidth: 1,
    borderRightColor: '#e9ecef',
  },
  mainContent: {
    flex: 1,
  },
  mobileLayout: {
    flex: 1,
  },
});
```

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### React Nativeæ€§èƒ½ä¼˜åŒ–

```typescript
// src/optimization/PerformanceOptimizer.ts
import { InteractionManager, Platform } from 'react-native';
import crashlytics from '@react-native-firebase/crashlytics';

export class PerformanceOptimizer {
  // å›¾ç‰‡ä¼˜åŒ–
  static optimizeImage(uri: string, width: number, height: number): string {
    if (Platform.OS === 'android') {
      return `${uri}?w=${width}&h=${height}&format=webp`;
    }
    return `${uri}?w=${width}&h=${height}&format=jpg`;
  }

  // åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–
  static getItemLayout = (data: any, index: number) => ({
    length: 200, // å›ºå®šé«˜åº¦
    offset: 200 * index,
    index,
  });

  // å»¶è¿Ÿæ‰§è¡Œéå…³é”®ä»»åŠ¡
  static runAfterInteractions(callback: () => void): void {
    InteractionManager.runAfterInteractions(() => {
      callback();
    });
  }

  // å†…å­˜ä½¿ç”¨ç›‘æ§
  static monitorMemoryUsage(): void {
    if (__DEV__) {
      setInterval(() => {
        if (global.performance?.memory) {
          const memory = global.performance.memory;
          console.log('Memory Usage:', {
            used: Math.round(memory.usedJSHeapSize / 1024 / 1024) + ' MB',
            total: Math.round(memory.totalJSHeapSize / 1024 / 1024) + ' MB',
            limit: Math.round(memory.jsHeapSizeLimit / 1024 / 1024) + ' MB',
          });
        }
      }, 10000);
    }
  }

  // é”™è¯¯ç›‘æ§å’Œä¸ŠæŠ¥
  static reportError(error: Error, context?: Record<string, any>): void {
    if (!__DEV__) {
      crashlytics().recordError(error);
      if (context) {
        crashlytics().setAttributes(context);
      }
    }
  }
}

// src/components/optimized/OptimizedFlatList.tsx
import React, { memo, useCallback } from 'react';
import {
  FlatList,
  FlatListProps,
  ListRenderItem,
  ViewToken,
} from 'react-native';

interface OptimizedFlatListProps<T> extends Omit<FlatListProps<T>, 'renderItem'> {
  renderItem: ListRenderItem<T>;
  onViewableItemsChanged?: (info: { viewableItems: ViewToken[]; changed: ViewToken[] }) => void;
}

function OptimizedFlatListComponent<T>({
  renderItem,
  onViewableItemsChanged,
  ...props
}: OptimizedFlatListProps<T>) {
  const memoizedRenderItem = useCallback(renderItem, []);
  
  const viewabilityConfig = {
    itemVisiblePercentThreshold: 50,
    minimumViewTime: 300,
  };

  return (
    <FlatList
      {...props}
      renderItem={memoizedRenderItem}
      removeClippedSubviews={true}
      maxToRenderPerBatch={10}
      updateCellsBatchingPeriod={50}
      initialNumToRender={10}
      windowSize={10}
      getItemLayout={props.getItemLayout || PerformanceOptimizer.getItemLayout}
      onViewableItemsChanged={onViewableItemsChanged}
      viewabilityConfig={viewabilityConfig}
      keyExtractor={(item: any, index: number) => 
        item.id?.toString() || index.toString()
      }
    />
  );
}

export const OptimizedFlatList = memo(OptimizedFlatListComponent) as typeof OptimizedFlatListComponent;

// src/components/optimized/LazyImage.tsx
import React, { useState, memo } from 'react';
import {
  Image,
  ImageProps,
  View,
  ActivityIndicator,
  StyleSheet,
} from 'react-native';
import { PerformanceOptimizer } from '../../optimization/PerformanceOptimizer';

interface LazyImageProps extends Omit<ImageProps, 'source'> {
  uri: string;
  width: number;
  height: number;
  placeholder?: React.ReactNode;
}

export const LazyImage = memo<LazyImageProps>(({
  uri,
  width,
  height,
  placeholder,
  style,
  ...props
}) => {
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(false);

  const optimizedUri = PerformanceOptimizer.optimizeImage(uri, width, height);

  return (
    <View style={[{ width, height }, style]}>
      <Image
        {...props}
        source={{ uri: optimizedUri }}
        style={[{ width, height }, style]}
        onLoadStart={() => setLoading(true)}
        onLoadEnd={() => setLoading(false)}
        onError={() => {
          setLoading(false);
          setError(true);
        }}
      />
      
      {loading && (
        <View style={[styles.overlay, { width, height }]}>
          {placeholder || <ActivityIndicator size="small" />}
        </View>
      )}
      
      {error && (
        <View style={[styles.overlay, styles.errorContainer, { width, height }]}>
          <Text>åŠ è½½å¤±è´¥</Text>
        </View>
      )}
    </View>
  );
});

const styles = StyleSheet.create({
  overlay: {
    position: 'absolute',
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: '#f5f5f5',
  },
  errorContainer: {
    backgroundColor: '#ffe6e6',
  },
});
```

### Flutteræ€§èƒ½ä¼˜åŒ–

```dart
// lib/core/performance/performance_optimizer.dart
import 'package:flutter/foundation.dart';
import 'package:flutter/services.dart';

class PerformanceOptimizer {
  static void enablePerformanceOverlay() {
    if (kDebugMode) {
      WidgetsApp.debugShowPerformanceOverlayOverride = true;
    }
  }

  static void preloadImages(List<String> imageUrls) {
    for (final url in imageUrls) {
      precacheImage(NetworkImage(url), navigatorKey.currentContext!);
    }
  }

  static void optimizeScrollPerformance() {
    // å‡å°‘é‡å»ºæ¬¡æ•°
    WidgetsBinding.instance.deferFirstFrame();
    WidgetsBinding.instance.allowFirstFrame();
  }

  static Future<void> warmUpShaders() async {
    await Future.wait([
      // é¢„çƒ­å¸¸ç”¨shader
      ShaderWarmUp.instance.warmUpShader(
        const ShaderWarmUp.defaultTargetPlatform(),
      ),
    ]);
  }
}

// lib/widgets/optimized/optimized_list_view.dart
import 'package:flutter/material.dart';

class OptimizedListView<T> extends StatelessWidget {
  final List<T> items;
  final Widget Function(BuildContext context, T item, int index) itemBuilder;
  final double? itemExtent;
  final ScrollController? controller;
  final EdgeInsetsGeometry? padding;

  const OptimizedListView({
    Key? key,
    required this.items,
    required this.itemBuilder,
    this.itemExtent,
    this.controller,
    this.padding,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      controller: controller,
      padding: padding,
      itemExtent: itemExtent, // å›ºå®šé«˜åº¦æå‡æ€§èƒ½
      cacheExtent: 500, // ç¼“å­˜èŒƒå›´
      itemCount: items.length,
      itemBuilder: (context, index) {
        final item = items[index];
        return RepaintBoundary(
          child: itemBuilder(context, item, index),
        );
      },
    );
  }
}

// lib/widgets/optimized/cached_network_image_widget.dart
import 'package:flutter/material.dart';
import 'package:cached_network_image/cached_network_image.dart';

class OptimizedCachedImage extends StatelessWidget {
  final String imageUrl;
  final double? width;
  final double? height;
  final BoxFit? fit;
  final Widget? placeholder;
  final Widget? errorWidget;

  const OptimizedCachedImage({
    Key? key,
    required this.imageUrl,
    this.width,
    this.height,
    this.fit,
    this.placeholder,
    this.errorWidget,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return CachedNetworkImage(
      imageUrl: imageUrl,
      width: width,
      height: height,
      fit: fit ?? BoxFit.cover,
      placeholder: (context, url) => placeholder ?? 
          Container(
            width: width,
            height: height,
            color: Colors.grey[300],
            child: const Center(
              child: CircularProgressIndicator(),
            ),
          ),
      errorWidget: (context, url, error) => errorWidget ??
          Container(
            width: width,
            height: height,
            color: Colors.grey[300],
            child: const Icon(
              Icons.error,
              color: Colors.red,
            ),
          ),
      memCacheWidth: width?.toInt(),
      memCacheHeight: height?.toInt(),
      maxWidthDiskCache: 1000,
      maxHeightDiskCache: 1000,
    );
  }
}

// lib/core/performance/memory_monitor.dart
import 'dart:developer' as developer;
import 'package:flutter/foundation.dart';

class MemoryMonitor {
  static void startMonitoring() {
    if (kDebugMode) {
      Timeline.startSync('MemoryMonitoring');
      
      // å®šæœŸæ£€æŸ¥å†…å­˜ä½¿ç”¨
      Stream.periodic(const Duration(seconds: 10)).listen((_) {
        _logMemoryUsage();
      });
    }
  }

  static void _logMemoryUsage() {
    developer.log('Memory usage check', name: 'MemoryMonitor');
    
    // è§¦å‘åƒåœ¾å›æ”¶
    if (kDebugMode) {
      developer.postEvent('Flutter.MemoryUsage', {
        'timestamp': DateTime.now().millisecondsSinceEpoch,
      });
    }
  }

  static void reportLargeAllocation(String description, int sizeInBytes) {
    if (kDebugMode) {
      developer.log(
        'Large allocation: $description ($sizeInBytes bytes)',
        name: 'MemoryMonitor',
      );
    }
  }
}
```

## è°ƒè¯•ä¸æµ‹è¯•

### æµ‹è¯•æ¡†æ¶é›†æˆ

```typescript
// __tests__/components/Button.test.tsx
import React from 'react';
import { render, fireEvent, screen } from '@testing-library/react-native';
import { Button } from '../../src/components/common/Button';

describe('Button Component', () => {
  it('renders correctly with title', () => {
    render(<Button title="Test Button" onPress={() => {}} />);
    expect(screen.getByText('Test Button')).toBeTruthy();
  });

  it('calls onPress when pressed', () => {
    const mockOnPress = jest.fn();
    render(<Button title="Test Button" onPress={mockOnPress} />);
    
    fireEvent.press(screen.getByText('Test Button'));
    expect(mockOnPress).toHaveBeenCalledTimes(1);
  });

  it('shows loading indicator when loading', () => {
    render(<Button title="Test Button" onPress={() => {}} loading />);
    expect(screen.getByTestId('loading-indicator')).toBeTruthy();
  });

  it('is disabled when disabled prop is true', () => {
    render(<Button title="Test Button" onPress={() => {}} disabled />);
    const button = screen.getByRole('button');
    expect(button).toBeDisabled();
  });
});

// __tests__/screens/HomeScreen.test.tsx
import React from 'react';
import { render, waitFor, screen } from '@testing-library/react-native';
import { Provider } from 'react-redux';
import { store } from '../../src/store/store';
import { HomeScreen } from '../../src/screens/HomeScreen';

// Mock API
jest.mock('../../src/store/api/moviesApi', () => ({
  useGetPopularMoviesQuery: () => ({
    data: {
      results: [
        {
          id: 1,
          title: 'Test Movie',
          overview: 'Test Overview',
          poster_path: '/test.jpg',
          release_date: '2023-01-01',
          vote_average: 7.5,
        },
      ],
    },
    isLoading: false,
    error: null,
  }),
}));

describe('HomeScreen', () => {
  const renderHomeScreen = () => {
    return render(
      <Provider store={store}>
        <HomeScreen />
      </Provider>
    );
  };

  it('renders movie list correctly', async () => {
    renderHomeScreen();
    
    await waitFor(() => {
      expect(screen.getByText('Test Movie')).toBeTruthy();
    });
  });

  it('displays search bar', () => {
    renderHomeScreen();
    expect(screen.getByPlaceholderText('æœç´¢ç”µå½±...')).toBeTruthy();
  });
});

// __tests__/integration/MovieFlow.test.tsx
import React from 'react';
import { render, fireEvent, waitFor, screen } from '@testing-library/react-native';
import { NavigationContainer } from '@react-navigation/native';
import { Provider } from 'react-redux';
import { store } from '../../src/store/store';
import { AppNavigator } from '../../src/navigation/AppNavigator';

describe('Movie Flow Integration', () => {
  const renderApp = () => {
    return render(
      <Provider store={store}>
        <NavigationContainer>
          <AppNavigator />
        </NavigationContainer>
      </Provider>
    );
  };

  it('navigates from home to movie detail', async () => {
    renderApp();
    
    // ç­‰å¾…ä¸»é¡µåŠ è½½
    await waitFor(() => {
      expect(screen.getByText('çƒ­é—¨ç”µå½±')).toBeTruthy();
    });
    
    // ç‚¹å‡»ç”µå½±å¡ç‰‡
    const movieCard = screen.getByText('Test Movie');
    fireEvent.press(movieCard);
    
    // éªŒè¯å¯¼èˆªåˆ°è¯¦æƒ…é¡µ
    await waitFor(() => {
      expect(screen.getByText('ç”µå½±è¯¦æƒ…')).toBeTruthy();
    });
  });
});
```

### E2Eæµ‹è¯•é…ç½®

```javascript
// e2e/firstTest.e2e.js
describe('Movie App E2E', () => {
  beforeAll(async () => {
    await device.launchApp();
  });

  beforeEach(async () => {
    await device.reloadReactNative();
  });

  it('should show home screen', async () => {
    await expect(element(by.text('çƒ­é—¨ç”µå½±'))).toBeVisible();
  });

  it('should search for movies', async () => {
    await element(by.id('search-input')).tap();
    await element(by.id('search-input')).typeText('Avengers');
    await element(by.text('æœç´¢')).tap();
    
    await waitFor(element(by.text('Avengers')))
      .toBeVisible()
      .withTimeout(5000);
  });

  it('should navigate to movie detail', async () => {
    await element(by.id('movie-card-1')).tap();
    await expect(element(by.text('ç”µå½±è¯¦æƒ…'))).toBeVisible();
    await expect(element(by.id('movie-title'))).toBeVisible();
  });

  it('should handle offline state', async () => {
    await device.setNetworkConnection(false);
    await device.reloadReactNative();
    
    await expect(element(by.text('ç½‘ç»œè¿æ¥å¤±è´¥'))).toBeVisible();
    
    await device.setNetworkConnection(true);
  });
});

// .detoxrc.json
{
  "testRunner": "jest",
  "runnerConfig": "e2e/config.json",
  "configurations": {
    "ios.sim.debug": {
      "device": "simulator",
      "app": "ios.debug"
    },
    "android.emu.debug": {
      "device": "emulator",
      "app": "android.debug"
    }
  },
  "devices": {
    "simulator": {
      "type": "ios.simulator",
      "device": {
        "type": "iPhone 14"
      }
    },
    "emulator": {
      "type": "android.emulator",
      "device": {
        "avdName": "Pixel_3a_API_30_x86"
      }
    }
  },
  "apps": {
    "ios.debug": {
      "type": "ios.app",
      "binaryPath": "ios/build/Build/Products/Debug-iphonesimulator/MovieApp.app",
      "build": "xcodebuild -workspace ios/MovieApp.xcworkspace -scheme MovieApp -configuration Debug -sdk iphonesimulator -derivedDataPath ios/build"
    },
    "android.debug": {
      "type": "android.apk",
      "binaryPath": "android/app/build/outputs/apk/debug/app-debug.apk",
      "build": "cd android && ./gradlew assembleDebug assembleAndroidTest -DtestBuildType=debug"
    }
  }
}
```

## å‘å¸ƒä¸éƒ¨ç½²

### CI/CDæµæ°´çº¿

```yaml
# .github/workflows/react-native-ci.yml
name: React Native CI/CD

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run linting
      run: npm run lint
    
    - name: Run tests
      run: npm test -- --coverage --watchAll=false
    
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v3

  build-ios:
    needs: test
    runs-on: macos-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Setup Ruby
      uses: ruby/setup-ruby@v1
      with:
        ruby-version: 2.7
        bundler-cache: true
        working-directory: ios
    
    - name: Install CocoaPods
      run: cd ios && pod install
    
    - name: Build iOS app
      run: |
        cd ios
        xcodebuild -workspace MovieApp.xcworkspace \
          -scheme MovieApp \
          -configuration Release \
          -destination 'generic/platform=iOS' \
          -archivePath MovieApp.xcarchive \
          archive
    
    - name: Export IPA
      run: |
        cd ios
        xcodebuild -exportArchive \
          -archivePath MovieApp.xcarchive \
          -exportPath . \
          -exportOptionsPlist ExportOptions.plist

  build-android:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Setup Java
      uses: actions/setup-java@v3
      with:
        java-version: '11'
        distribution: 'adopt'
    
    - name: Setup Android SDK
      uses: android-actions/setup-android@v2
    
    - name: Install dependencies
      run: npm ci
    
    - name: Build Android APK
      run: |
        cd android
        ./gradlew assembleRelease
    
    - name: Sign APK
      uses: r0adkll/sign-android-release@v1
      with:
        releaseDirectory: android/app/build/outputs/apk/release
        signingKeyBase64: ${{ secrets.ANDROID_SIGNING_KEY }}
        alias: ${{ secrets.ANDROID_KEY_ALIAS }}
        keyStorePassword: ${{ secrets.ANDROID_KEYSTORE_PASSWORD }}
        keyPassword: ${{ secrets.ANDROID_KEY_PASSWORD }}

  deploy:
    needs: [build-ios, build-android]
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - name: Deploy to App Store
      uses: apple-actions/upload-testflight-build@v1
      with:
        app-path: 'MovieApp.ipa'
        issuer-id: ${{ secrets.APPSTORE_ISSUER_ID }}
        api-key-id: ${{ secrets.APPSTORE_API_KEY_ID }}
        api-private-key: ${{ secrets.APPSTORE_API_PRIVATE_KEY }}
    
    - name: Deploy to Google Play
      uses: r0adkll/upload-google-play@v1
      with:
        serviceAccountJsonPlainText: ${{ secrets.GOOGLE_PLAY_SERVICE_ACCOUNT }}
        packageName: com.movieapp
        releaseFiles: android/app/build/outputs/apk/release/app-release-signed.apk
        track: internal
```

### åº”ç”¨å•†åº—å‘å¸ƒ

```bash
# iOSå‘å¸ƒè„šæœ¬ - scripts/deploy-ios.sh
#!/bin/bash

set -e

echo "ğŸ å¼€å§‹iOSå‘å¸ƒæµç¨‹..."

# 1. æ¸…ç†æ„å»ºç›®å½•
echo "æ¸…ç†æ„å»ºç›®å½•..."
rm -rf ios/build
cd ios && xcodebuild clean && cd ..

# 2. å®‰è£…ä¾èµ–
echo "å®‰è£…ä¾èµ–..."
npm ci
cd ios && pod install && cd ..

# 3. æ„å»ºArchive
echo "æ„å»ºArchive..."
cd ios
xcodebuild -workspace MovieApp.xcworkspace \
  -scheme MovieApp \
  -configuration Release \
  -destination 'generic/platform=iOS' \
  -archivePath MovieApp.xcarchive \
  archive \
  CODE_SIGN_IDENTITY="iPhone Distribution" \
  PROVISIONING_PROFILE_SPECIFIER="MovieApp Distribution"

# 4. å¯¼å‡ºIPA
echo "å¯¼å‡ºIPA..."
xcodebuild -exportArchive \
  -archivePath MovieApp.xcarchive \
  -exportPath . \
  -exportOptionsPlist ExportOptions.plist

# 5. ä¸Šä¼ åˆ°App Store Connect
echo "ä¸Šä¼ åˆ°App Store Connect..."
xcrun altool --upload-app \
  --type ios \
  --file "MovieApp.ipa" \
  --username "$APPLE_ID" \
  --password "$APPLE_PASSWORD"

echo "âœ… iOSå‘å¸ƒå®Œæˆ!"

# Androidå‘å¸ƒè„šæœ¬ - scripts/deploy-android.sh
#!/bin/bash

set -e

echo "ğŸ¤– å¼€å§‹Androidå‘å¸ƒæµç¨‹..."

# 1. æ¸…ç†æ„å»ºç›®å½•
echo "æ¸…ç†æ„å»ºç›®å½•..."
cd android && ./gradlew clean && cd ..

# 2. å®‰è£…ä¾èµ–
echo "å®‰è£…ä¾èµ–..."
npm ci

# 3. æ„å»ºRelease APK
echo "æ„å»ºRelease APK..."
cd android && ./gradlew assembleRelease && cd ..

# 4. æ„å»ºAAB
echo "æ„å»ºAAB..."
cd android && ./gradlew bundleRelease && cd ..

# 5. ç­¾åAPK
echo "ç­¾åAPK..."
jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 \
  -keystore $ANDROID_KEYSTORE_PATH \
  -storepass $ANDROID_KEYSTORE_PASSWORD \
  android/app/build/outputs/apk/release/app-release-unsigned.apk \
  $ANDROID_KEY_ALIAS

# 6. å¯¹é½APK
echo "å¯¹é½APK..."
zipalign -v 4 \
  android/app/build/outputs/apk/release/app-release-unsigned.apk \
  android/app/build/outputs/apk/release/app-release.apk

# 7. ä¸Šä¼ åˆ°Google Play Console
echo "ä¸Šä¼ åˆ°Google Play Console..."
# ä½¿ç”¨Google Play Console APIæˆ–æ‰‹åŠ¨ä¸Šä¼ 

echo "âœ… Androidå‘å¸ƒå®Œæˆ!"
```

## æœ€ä½³å®è·µæ€»ç»“

### Claude Codeç§»åŠ¨å¼€å‘æœ€ä½³å®è·µ

1. **é¡¹ç›®è§„åˆ’é˜¶æ®µ**
   - ä½¿ç”¨Claude Codeåˆ†æéœ€æ±‚å¹¶æ¨èæŠ€æœ¯æ ˆ
   - è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®æ¶æ„å’Œæ–‡ä»¶ç»“æ„
   - åˆ›å»ºè¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£å’Œå¼€å‘è§„èŒƒ

2. **å¼€å‘é˜¶æ®µæœ€ä½³å®è·µ**
   - å……åˆ†åˆ©ç”¨AIä»£ç ç”ŸæˆåŠ é€Ÿå¼€å‘
   - å®æ–½æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)
   - ä½¿ç”¨è®¾è®¡ç³»ç»Ÿç¡®ä¿UIä¸€è‡´æ€§
   - å®ç°å“åº”å¼è®¾è®¡é€‚é…å¤šè®¾å¤‡

3. **æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**
   - å›¾ç‰‡æ‡’åŠ è½½å’Œç¼“å­˜ä¼˜åŒ–
   - åˆ—è¡¨è™šæ‹ŸåŒ–æå‡æ»šåŠ¨æ€§èƒ½
   - å†…å­˜ä½¿ç”¨ç›‘æ§å’Œä¼˜åŒ–
   - åŒ…å¤§å°ä¼˜åŒ–å’Œä»£ç åˆ†å‰²

4. **è´¨é‡ä¿è¯**
   - å®Œå–„çš„å•å…ƒæµ‹è¯•è¦†ç›–
   - é›†æˆæµ‹è¯•å’ŒE2Eæµ‹è¯•
   - ä»£ç å®¡æŸ¥å’Œé™æ€åˆ†æ
   - æ€§èƒ½ç›‘æ§å’Œé”™è¯¯è¿½è¸ª

5. **éƒ¨ç½²å’Œè¿ç»´**
   - è‡ªåŠ¨åŒ–CI/CDæµæ°´çº¿
   - å¤šç¯å¢ƒéƒ¨ç½²ç®¡ç†
   - ç°åº¦å‘å¸ƒå’ŒA/Bæµ‹è¯•
   - ç›‘æ§å‘Šè­¦ä½“ç³»

### æ¡†æ¶é€‰æ‹©å»ºè®®

- **React Native**: é€‚åˆæœ‰Webå¼€å‘èƒŒæ™¯çš„å›¢é˜Ÿï¼Œå¿«é€ŸåŸå‹å¼€å‘
- **Flutter**: é€‚åˆè¿½æ±‚é«˜æ€§èƒ½å’ŒUIä¸€è‡´æ€§çš„é¡¹ç›®
- **åŸç”Ÿå¼€å‘**: é€‚åˆæ€§èƒ½è¦æ±‚æé«˜æˆ–éœ€è¦æ·±åº¦å¹³å°é›†æˆçš„åº”ç”¨

### æ•ˆç‡æå‡æ•°æ®

é€šè¿‡Claude Codeè¾…åŠ©ç§»åŠ¨å¼€å‘ï¼Œå®é™…é¡¹ç›®ä¸­å–å¾—çš„æ•ˆç‡æå‡ï¼š

- é¡¹ç›®åˆå§‹åŒ–ï¼šæ•ˆç‡æå‡500%
- UIç»„ä»¶å¼€å‘ï¼šæ•ˆç‡æå‡300%
- APIé›†æˆï¼šæ•ˆç‡æå‡300%
- è°ƒè¯•ä¼˜åŒ–ï¼šæ•ˆç‡æå‡300%
- æµ‹è¯•ç¼–å†™ï¼šæ•ˆç‡æå‡300%

Claude Codeä¸ä»…æå‡äº†å¼€å‘æ•ˆç‡ï¼Œæ›´é‡è¦çš„æ˜¯é€šè¿‡æ™ºèƒ½åŒ–çš„ä»£ç ç”Ÿæˆå’Œæ¶æ„å»ºè®®ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºæ›´åŠ ç¨³å®šã€é«˜æ€§èƒ½çš„ç§»åŠ¨åº”ç”¨ã€‚

## ç›¸å…³æ–‡ç« æ¨è

- [å¾®æœåŠ¡æ¶æ„é¡¹ç›®å®è·µ](29-å¾®æœåŠ¡æ¶æ„é¡¹ç›®å®è·µ.md) - äº†è§£åç«¯æœåŠ¡æ¶æ„
- [æ•°æ®ç§‘å­¦ä¸æœºå™¨å­¦ä¹ é¡¹ç›®](30-æ•°æ®ç§‘å­¦ä¸æœºå™¨å­¦ä¹ é¡¹ç›®.md) - å­¦ä¹ AIæ¨¡å‹é›†æˆ
- [DevOpså·¥å…·é“¾é›†æˆæ¡ˆä¾‹](32-DevOpså·¥å…·é“¾é›†æˆæ¡ˆä¾‹.md) - ä¸‹ä¸€ç¯‡æ–‡ç« å†…å®¹
- [æ€§èƒ½ä¼˜åŒ–ä¸è°ƒè¯•æŠ€å·§](36-æ€§èƒ½ä¼˜åŒ–ä¸è°ƒè¯•æŠ€å·§.md) - æ·±å…¥å­¦ä¹ æ€§èƒ½ä¼˜åŒ–

---

*æœ¬æ–‡æ˜¯Claude Codeå®Œæ•´æ•™ç¨‹ç³»åˆ—çš„ç¬¬31ç¯‡ï¼Œå…¨é¢ä»‹ç»äº†ç§»åŠ¨åº”ç”¨å¼€å‘çš„å®Œæ•´æµç¨‹å’Œæœ€ä½³å®è·µã€‚ä¸‹ä¸€ç¯‡å°†æ¢è®¨DevOpså·¥å…·é“¾é›†æˆæ¡ˆä¾‹ã€‚*