{%- assign canon = page.canonical | default: site.url | append: site.baseurl | append: page.url -%}
<link rel="canonical" href="{{ canon }}"/>
{% if page.og_image %}<meta property="og:image" content="{{ page.og_image }}"/>{% endif %}
<meta property="og:title" content="{{ page.title | default: site.title }}"/>
<meta property="og:description" content="{{ page.excerpt | default: site.description | strip_html | truncate: 160 }}"/>
<meta property="og:url" content="{{ canon }}"/>
<meta property="og:type" content="{% if page.layout == 'post' or page.layout == 'episode' %}article{% else %}website{% endif %}"/>
<meta property="og:site_name" content="{{ site.title }}"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="{{ page.title | default: site.title }}"/>
<meta name="twitter:description" content="{{ page.excerpt | default: site.description | strip_html | truncate: 160 }}"/>
{% if page.og_image %}<meta name="twitter:image" content="{{ page.og_image }}"/>{% endif %}
{% if page.jsonld %}
<script type="application/ld+json">
{{ page.jsonld }}
</script>
{% endif %}